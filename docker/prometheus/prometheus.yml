global:
  scrape_interval: 5s
  evaluation_interval: 5s

# Правила алёртов/записей
rule_files:
  - /etc/prometheus/rules/mysql_rules.yml

scrape_configs:
  # Сам Prometheus
  - job_name: "prometheus"
    static_configs:
      - targets: ["prometheus:9090"]

  # Хостовые метрики (CPU/RAM/Disk) — node-exporter
  - job_name: "node-exporter"
    static_configs:
      - targets: ["node-exporter:9100"]

  # Метрики MySQL через mysqld-exporter
  - job_name: "mysqld-exporter"
    static_configs:
      - targets: ["mysqld-exporter:9104"]

  - job_name: "auth-svc"
    metrics_path: /metrics
    static_configs:
      - targets: ["auth-svc:8080"]
